---
var {modconfiguration = 0} = Astro.props
---

<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.footer {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100%;
  text-align: center;
}
</style>

<button id="toggle-footer" style="position: fixed; bottom: 0.4rem; right: 1rem; z-index: 1000;">
  HIDE MODULES
</button>


<div class="footer" id="footer">
  <div id="footer-content">
  <h2>
    TECHNICAL MODULE <br>
    <select id="select1">
      <option>...</option>
      <option>HIGH POWER OPTICS / ADAPTIVE MICROGLASS LENSING</option>
      <option>PENETRATIVE CHEMICAL AND ETH-RAY IMAGING</option>
    </select> <br>

    EDITORIAL MANIFOLD<br>
    <select id="select2">
      <option>...</option>
      <option>ENCYCLOPAEDIC</option>
      <option>PROSAIC</option>
    </select> <br>

    MOOD MATRIX<br>
    <select id="select3">
      <option>...</option>
      <option>PASSIVE PESSIMIST PROTOCOL</option>
      <option>RATIONALIST REALIST REGIME</option>
      <option>HOPEFUL HUMANIST HASHING-FUNCTION</option>
    </select>
  </h2>
  <br>
  </div>
</div>

<script type="module">
  const select1 = document.getElementById("select1");
  const select2 = document.getElementById("select2");
  const select3 = document.getElementById("select3");
  const result = document.getElementById("finalResult");

  const opts = {
    select1: [
      "HIGH POWER OPTICS / ADAPTIVE MICROGLASS LENSING",
      "PENETRATIVE CHEMICAL AND ETH-RAY IMAGING"
    ],
    select2: ["ENCYCLOPAEDIC", "PROSAIC"],
    select3: [
      "PASSIVE PESSIMIST PROTOCOL",
      "RATIONALIST REALIST REGIME",
      "HOPEFUL HUMANIST HASHING-FUNCTION"
    ]
  };

  function getModConfig(s1, s2, s3) {
    const index1 = opts.select1.indexOf(s1);
    const index2 = opts.select2.indexOf(s2);
    const index3 = opts.select3.indexOf(s3);
    if (index1 === -1 || index2 === -1 || index3 === -1) return 0;
    return index1 * 6 + index2 * 3 + index3 + 1; // Gives you 1â€“12
  }

  function update() {
    const val1 = select1.value;
    const val2 = select2.value;
    const val3 = select3.value;
    const config = getModConfig(val1, val2, val3);
    result.textContent = `modconfiguration: ${config}`;
    localStorage.setItem("modconfiguration", config); // Optional: save for later
  }

  select1.addEventListener("change", update);
  select2.addEventListener("change", update);
  select3.addEventListener("change", update);



const toggleBtn = document.getElementById("toggle-footer");
const footer = document.getElementById("footer");

toggleBtn.addEventListener("click", () => {
  footer.classList.toggle("collapsed");

  const isCollapsed = footer.classList.contains("collapsed");
  toggleBtn.textContent = isCollapsed ? "ACCESS MODULES" : "HIDE MODULES";
});



</script>

















